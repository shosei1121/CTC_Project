{"version":3,"file":"navigation-CvC7EUiU.js","sources":["../../src/js/auth/auth-check.js","../../src/js/utils/navigation.js"],"sourcesContent":["import { getUser, signOut } from '../../services/local-storage.js';\n\nexport async function checkAuth() {\n    const { user } = await getUser();\n    return user;\n}\n\nexport async function requireAuth() {\n    const user = await checkAuth();\n    if (!user) {\n        window.location.href = '/src/pages/auth.html';\n        return null;\n    }\n    return user;\n}\n\nexport async function handleSignOut() {\n    await signOut();\n    window.location.href = '/src/pages/auth.html';\n}\n\nexport { signOut };","// 現在のページのパスを取得\nfunction getCurrentPath() {\n    return window.location.pathname;\n}\n\n// ナビゲーションの更新\nexport function updateNavigation() {\n    const currentPath = getCurrentPath();\n    const navItems = document.querySelectorAll('.nav-item');\n    \n    navItems.forEach(item => {\n        const href = item.getAttribute('href');\n        if (href === currentPath || (href === '/' && currentPath === '/index.html')) {\n            item.classList.add('active');\n        } else {\n            item.classList.remove('active');\n        }\n    });\n}\n\n// ナビゲーションのクリックイベント\nexport function setupNavigation() {\n    const navItems = document.querySelectorAll('.nav-item');\n    navItems.forEach(item => {\n        item.addEventListener('click', (e) => {\n            const href = item.getAttribute('href');\n            if (href === getCurrentPath()) {\n                e.preventDefault(); // 同じページの場合は遷移をキャンセル\n            }\n        });\n    });\n}"],"names":["checkAuth","user","getUser","handleSignOut","signOut","getCurrentPath","updateNavigation","currentPath","item","href","setupNavigation"],"mappings":"uDAEO,eAAeA,GAAY,CAC9B,KAAM,CAAE,KAAAC,GAAS,MAAMC,EAAS,EAChC,OAAOD,CACX,CAWO,eAAeE,GAAgB,CAClC,MAAMC,EAAS,EACf,OAAO,SAAS,KAAO,sBAC3B,CClBA,SAASC,GAAiB,CACtB,OAAO,OAAO,SAAS,QAC3B,CAGO,SAASC,GAAmB,CAC/B,MAAMC,EAAcF,EAAgB,EACnB,SAAS,iBAAiB,WAAW,EAE7C,QAAQG,GAAQ,CACrB,MAAMC,EAAOD,EAAK,aAAa,MAAM,EACjCC,IAASF,GAAgBE,IAAS,KAAOF,IAAgB,cACzDC,EAAK,UAAU,IAAI,QAAQ,EAE3BA,EAAK,UAAU,OAAO,QAAQ,CAE1C,CAAK,CACL,CAGO,SAASE,GAAkB,CACb,SAAS,iBAAiB,WAAW,EAC7C,QAAQF,GAAQ,CACrBA,EAAK,iBAAiB,QAAU,GAAM,CACrBA,EAAK,aAAa,MAAM,IACxBH,KACT,EAAE,eAAc,CAEhC,CAAS,CACT,CAAK,CACL"}