(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&c(s)}).observe(document,{childList:!0,subtree:!0});function r(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function c(e){if(e.ep)return;e.ep=!0;const o=r(e);fetch(e.href,o)}})();async function a(){localStorage.removeItem("currentUser")}async function u(){const t=localStorage.getItem("currentUser");return t?{user:JSON.parse(t)}:{user:null}}async function l(){const{user:t}=await u();return t}async function d(){await a(),window.location.href="/src/pages/auth.html"}function i(){return window.location.pathname}function f(){const t=i();document.querySelectorAll(".nav-item").forEach(r=>{const c=r.getAttribute("href");c===t||c==="/"&&t==="/index.html"?r.classList.add("active"):r.classList.remove("active")})}function m(){document.querySelectorAll(".nav-item").forEach(n=>{n.addEventListener("click",r=>{n.getAttribute("href")===i()&&r.preventDefault()})})}async function h(){try{const t=await l(),n=document.getElementById("authButton");t?(n.textContent="ログアウト",n.addEventListener("click",d)):(n.textContent="ログイン",n.addEventListener("click",()=>{window.location.href="/auth.html"})),m(),f()}catch(t){console.error("Initialization error:",t)}}h();document.addEventListener("DOMContentLoaded",()=>{const t=document.querySelectorAll(".tab-btn"),n=document.querySelectorAll(".tab-content");t.forEach(r=>{r.addEventListener("click",()=>{t.forEach(e=>e.classList.remove("active")),n.forEach(e=>e.classList.remove("active")),r.classList.add("active");const c=r.getAttribute("data-tab");document.getElementById(c).classList.add("active")})})});
//# sourceMappingURL=index-DIdR6k3n.js.map
