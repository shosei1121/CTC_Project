<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ãƒãƒ¼ã‚±ãƒƒãƒˆ - CTCã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³</title>
    <link rel="stylesheet" href="../styles/styles.css">
    <link rel="stylesheet" href="../styles/market.css">
</head>
<body>
    <div id="app">
        <main class="market-container">
            <!-- ãƒãƒ£ãƒ³ãƒãƒ«ãŒé¸æŠã•ã‚Œã¦ã„ãªã„å ´åˆã®ã¿è¡¨ç¤º -->
            <div id="marketHome">
                <!-- ãŠã™ã™ã‚ãƒãƒ£ãƒ³ãƒãƒ«ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
                <section class="featured-channels">
                    <h2 class="section-title">ãŠã™ã™ã‚ç”Ÿç”£è€…</h2>
                    <div class="channel-list">
                        <!-- ãƒãƒ£ãƒ³ãƒãƒ«ã¯JavaScriptã§å‹•çš„ã«è¿½åŠ  -->
                    </div>
                </section>
            </div>

            <!-- ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
            <section class="filter-section">
                <div class="filter-buttons">
                    <button class="filter-btn active" data-sort="name">åå‰é †</button>
                    <button class="filter-btn" data-sort="rating">è©•ä¾¡é †</button>
                    <button class="filter-btn" data-sort="price">ä¾¡æ ¼é †</button>
                </div>
                <select class="region-select">
                    <option value="">å…¨ã¦ã®åœ°åŸŸ</option>
                    <option value="hokkaido">åŒ—æµ·é“</option>
                    <option value="tohoku">æ±åŒ—</option>
                    <option value="kanto">é–¢æ±</option>
                    <option value="chubu">ä¸­éƒ¨</option>
                    <option value="kinki">è¿‘ç•¿</option>
                    <option value="chugoku">ä¸­å›½</option>
                    <option value="shikoku">å››å›½</option>
                    <option value="kyushu">ä¹å·</option>
                </select>
            </section>

            <!-- å•†å“ã‚°ãƒªãƒƒãƒ‰ -->
            <section class="product-grid" id="productGrid">
                <!-- å•†å“ã¯JavaScriptã§å‹•çš„ã«è¿½åŠ  -->
                <!-- å•†å“ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä¾‹ -->
                <div class="product-card">
                    <div class="product-actions">
                        <button class="like-button" data-product-id="${product.id}">
                            <span class="like-icon">â™¡</span>
                            <span class="like-count">0</span>
                        </button>
                    </div>
                </div>
            </section>
        </main>

        <!-- ãƒœãƒˆãƒ ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ -->
        <nav class="bottom-nav">
            <a href="/" class="nav-item">
                <i class="nav-icon">ğŸ </i>
                <span>ãƒ›ãƒ¼ãƒ </span>
            </a>
            <a href="/src/pages/market.html" class="nav-item active">
                <i class="nav-icon">ğŸ›ï¸</i>
                <span>ãƒãƒ¼ã‚±ãƒƒãƒˆ</span>
            </a>
            <a href="#" class="nav-item">
                <i class="nav-icon">ğŸ”§</i>
                <span>ãƒ„ãƒ¼ãƒ«</span>
            </a>
            <a href="/src/pages/mypage.html" class="nav-item">
                <i class="nav-icon">ğŸ‘¤</i>
                <span>ãƒã‚¤ãƒšãƒ¼ã‚¸</span>
            </a>
        </nav>
    </div>
    <script type="module">
        import { checkAuth } from '../js/auth/auth-check.js';
        import { setupNavigation, updateNavigation } from '../js/utils/navigation.js';
        import { initializeStorage } from '../services/local-storage.js';

        async function init() {
            const user = await checkAuth();
            if (!user) {
                window.location.href = '/src/pages/auth.html';
                return;
            }
            
            initializeStorage();
            setupNavigation();
            updateNavigation();
        }

        init();
    </script>
    <script type="module" src="../js/market.js"></script>
</body>
</html>